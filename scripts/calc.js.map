{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/calc.js","src/lib/engine.js","src/lib/ui.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_ui","window","addEventListener","init","event","removeEventListener","type","UI","initListeners","Calculator","factorialize","num","this","toPostfix","expression","out","stack","operators","^","precedence","associativity","!","/","*","+","-","replace","split","clean","token","isNumeric","indexOf","b","pop","push","calc","postfix","parseFloat","Math","pow","String","prototype","isNaN","isFinite","Array","splice","expressionStr","_this","btn_ac","document","querySelector","btn_del","btn_div","btn_one","btn_two","btn_three","btn_mul","btn_four","btn_five","btn_six","btn_plus","btn_seven","btn_eight","btn_nine","btn_min","btn_dec","btn_zero","btn_eq","btn_sin","btn_cos","btn_tan","btn_log","btn_pi","btn_sqrt","btn_factorial","btn_lparen","btn_rparen","btn_neg","btn_squared","btn_power","updateExpression","solve","updateSign","_engine","expr","res","updateDisplay","op","substring","innerHTML"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCAA,IAAAK,EAAAX,EAAA,eAEAY,OAAOC,iBAAiB,OAAQ,SAASC,EAAKC,GAE7CH,OAAOI,oBAAoBD,EAAME,KAAMH,GAAM,IAG7B,IAAIH,EAAAO,IACVC,kBACR,0GCWaC,WAAT,WAkFN,SAASC,EAAaC,GACrB,OAAIA,EAAM,GACD,EACO,GAAPA,EACD,EAECA,EAAMD,EAAaC,EAAM,GApFnCC,KAAKC,UAAY,SAASC,GACzB,IAAIC,EAAM,GACNC,EAAQ,GAGRC,EAAY,CACfC,IAAK,CACJC,WAAY,EACZC,cAAe,SAGhBC,IAAK,CACJF,WAAY,EACZC,cAAe,SAGhBE,IAAK,CACJH,WAAY,EACZC,cAAe,QAGhBG,IAAK,CACJJ,WAAY,EACZC,cAAe,QAGhBI,IAAK,CACJL,WAAY,EACZC,cAAe,QAGhBK,IAAK,CACJN,WAAY,EACZC,cAAe,SAOjBN,GAFAA,EAAaA,EAAWY,QAAQ,OAAQ,KAEhBC,MAAM,wBAAwBC,QAGtD,IAAK,IAAI1C,EAAE,EAAGA,EAAI4B,EAAWjB,OAAQX,IAAK,CACzC,IAAI2C,EAAQf,EAAW5B,GAEvB,GAAI2C,EAAMC,YACTf,GAAOc,EAAQ,SACT,IAAiC,IAA7B,SAASE,QAAQF,GAAe,CAK1C,IAHA,IAAItC,EAAIsC,EACJG,EAAIhB,EAAMA,EAAMnB,OAAS,IAEG,IAAzB,SAASkC,QAAQC,KAA6C,QAA9Bf,EAAU1B,GAAG6B,eAA2BH,EAAU1B,GAAG4B,YAAcF,EAAUe,GAAGb,YACxF,SAA9BF,EAAU1B,GAAG6B,eAA4BH,EAAUe,GAAGb,WAAaF,EAAUe,GAAGb,aAChFJ,GAAOC,EAAMiB,MAAQ,IACrBD,EAAIhB,EAAMA,EAAMnB,OAAS,GAG1BmB,EAAMkB,KAAK3C,QACL,GAAa,KAATsC,EACVb,EAAMkB,KAAKL,QACL,GAAa,KAATA,EAAc,CACxB,KAAmC,MAA5Bb,EAAMA,EAAMnB,OAAS,IAC3BkB,GAAOC,EAAMiB,MAAQ,IAGtBjB,EAAMiB,OAIR,KAAsB,EAAfjB,EAAMnB,QACZkB,GAAOC,EAAMiB,MAAQ,IAGtB,OAAOlB,GAaRH,KAAKuB,KAAO,SAASC,GACpB,IAAIpB,EAAQ,GAGZoB,EAAUA,EAAQT,MAAM,KAAKC,QAG7B,IAAK,IAAI1C,EAAE,EAAGA,EAAIkD,EAAQvC,OAAQX,IACjC,GAAIkD,EAAQlD,GAAG4C,YACdd,EAAMkB,KAAKE,EAAQlD,QACb,CACN,IAAIK,EAAIyB,EAAMiB,MACVD,EAAIhB,EAAMiB,MAEK,MAAfG,EAAQlD,GACX8B,EAAMkB,KAAKG,WAAW9C,GAAK8C,WAAWL,IACb,MAAfI,EAAQlD,GAClB8B,EAAMkB,KAAKG,WAAWL,GAAKK,WAAW9C,IACb,MAAf6C,EAAQlD,GAClB8B,EAAMkB,KAAKG,WAAW9C,GAAK8C,WAAWL,IACb,MAAfI,EAAQlD,GAClB8B,EAAMkB,KAAKG,WAAWL,GAAKK,WAAW9C,IACb,MAAf6C,EAAQlD,GAClB8B,EAAMkB,KAAKI,KAAKC,IAAIF,WAAWL,GAAIK,WAAW9C,KACtB,KAAd6C,EAAQlD,IAClB8B,EAAMkB,KAAKxB,EAAanB,IAK3B,OAAmB,EAAfyB,EAAMnB,OACF,eAEAmB,EAAMiB,QA9IhBO,OAAOC,UAAUX,UAAY,WAC5B,OAAQY,MAAML,WAAWzB,QAAU+B,SAAS/B,OAM7CgC,MAAMH,UAAUb,MAAQ,WACvB,IAAK,IAAI1C,EAAE,EAAGA,EAAI0B,KAAKf,OAAQX,IACd,KAAZ0B,KAAK1B,IACR0B,KAAKiC,OAAO3D,EAAG,GAIjB,OAAO0B,8FCfQL,GAAT,WAENK,KAAKkC,cAAgB,GAGrBlC,KAAKJ,cAAgB,WAAW,IAAAuC,EAAAnC,KAE3BoC,EAASC,SAASC,cAAc,WAChCC,EAAUF,SAASC,cAAc,YACjCE,EAAUH,SAASC,cAAc,YACjCG,EAAUJ,SAASC,cAAc,YACjCI,EAAUL,SAASC,cAAc,YACjCK,EAAYN,SAASC,cAAc,cACnCM,EAAUP,SAASC,cAAc,YACjCO,EAAWR,SAASC,cAAc,aAClCQ,EAAWT,SAASC,cAAc,aAClCS,EAAUV,SAASC,cAAc,YACjCU,EAAWX,SAASC,cAAc,aAClCW,EAAYZ,SAASC,cAAc,cACnCY,EAAYb,SAASC,cAAc,cACnCa,EAAWd,SAASC,cAAc,aAClCc,EAAUf,SAASC,cAAc,YACjCe,EAAUhB,SAASC,cAAc,YACjCgB,EAAWjB,SAASC,cAAc,aAClCiB,EAASlB,SAASC,cAAc,YAChCkB,EAAUnB,SAASC,cAAc,YAC3BmB,EAAUpB,SAASC,cAAc,YACjCoB,EAAUrB,SAASC,cAAc,YACjCqB,EAAUtB,SAASC,cAAc,YACjCsB,EAASvB,SAASC,cAAc,WAChCuB,EAAWxB,SAASC,cAAc,aAClCwB,EAAgBzB,SAASC,cAAc,kBACvCyB,EAAa1B,SAASC,cAAc,eACpC0B,EAAa3B,SAASC,cAAc,eACpC2B,EAAU5B,SAASC,cAAc,YACjC4B,EAAc7B,SAASC,cAAc,gBACrC6B,EAAY9B,SAASC,cAAc,cAG7CF,EAAO9C,iBAAiB,QAAS,WAChC6C,EAAKiC,iBAAiB,QAEvB7B,EAAQjD,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,SAEvB5B,EAAQlD,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,OAEvB3B,EAAQnD,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,OAEvB1B,EAAQpD,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,OAEvBzB,EAAUrD,iBAAiB,QAAS,WACnC6C,EAAKiC,iBAAiB,OAEvBxB,EAAQtD,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,OAEvBvB,EAASvD,iBAAiB,QAAS,WAClC6C,EAAKiC,iBAAiB,OAEvBtB,EAASxD,iBAAiB,QAAS,WAClC6C,EAAKiC,iBAAiB,OAEvBrB,EAAQzD,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,OAEvBpB,EAAS1D,iBAAiB,QAAS,WAClC6C,EAAKiC,iBAAiB,OAEvBnB,EAAU3D,iBAAiB,QAAS,WACnC6C,EAAKiC,iBAAiB,OAEvBlB,EAAU5D,iBAAiB,QAAS,WACnC6C,EAAKiC,iBAAiB,OAEvBjB,EAAS7D,iBAAiB,QAAS,WAClC6C,EAAKiC,iBAAiB,OAEvBf,EAAQ/D,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,OAEvBhB,EAAQ9D,iBAAiB,QAAS,WACjC6C,EAAKiC,iBAAiB,OAEvBd,EAAShE,iBAAiB,QAAS,WAClC6C,EAAKiC,iBAAiB,OAIvBb,EAAOjE,iBAAiB,QAAS,WAChC6C,EAAKkC,UAENb,EAAQlE,iBAAiB,QAAS,WACxB6C,EAAKiC,iBAAiB,UAE1BX,EAAQnE,iBAAiB,QAAS,WAC9B6C,EAAKiC,iBAAiB,UAE1BV,EAAQpE,iBAAiB,QAAS,WAC9B6C,EAAKiC,iBAAiB,UAE1BR,EAAOtE,iBAAiB,QAAS,WAC7B6C,EAAKiC,iBAAiB,QAE1BP,EAASvE,iBAAiB,QAAS,WAC/B6C,EAAKiC,iBAAiB,WAE1BT,EAAQrE,iBAAiB,QAAS,WAC9B6C,EAAKiC,iBAAiB,UAE1BN,EAAcxE,iBAAiB,QAAS,WACvC6C,EAAKiC,iBAAiB,OAEvBL,EAAWzE,iBAAiB,QAAS,WACpC6C,EAAKiC,iBAAiB,OAEvBJ,EAAW1E,iBAAiB,QAAS,WACpC6C,EAAKiC,iBAAiB,OAEvBH,EAAQ3E,iBAAiB,QAAS,WACjC6C,EAAKmC,eAENJ,EAAY5E,iBAAiB,QAAS,WACrC6C,EAAKiC,iBAAiB,QAEvBD,EAAU7E,iBAAiB,QAAS,WACnC6C,EAAKiC,iBAAiB,QAK9BpE,KAAKqE,MAAQ,WACZ,IAAI9C,EAAO,IAAIgD,EAAA1E,WACX2E,EAAOjD,EAAKtB,UAAUD,KAAKkC,eAC3BuC,EAAMlD,EAAKA,KAAKiD,GACpBxE,KAAKkC,cAAgBuC,EACrBzE,KAAK0E,iBAGN1E,KAAKsE,WAAa,WACbtE,KAAKkC,cAAcjD,QAAU,IAChCe,KAAKkC,cAAgB,IAE+B,KAAjDlC,KAAKkC,cAAclC,KAAKkC,cAAcjD,QACzCe,KAAKkC,cAAclC,KAAKkC,cAAcjD,QAAU,GAEhDe,KAAKkC,eAAiB,IAEvBlC,KAAK0E,iBAIN1E,KAAKoE,iBAAmB,SAASO,GAChC,OAAQA,GACP,IAAK,KACJ3E,KAAKkC,cAAgB,GACrB,MACD,IAAK,MACJlC,KAAKkC,cAAgBlC,KAAKkC,cAAc0C,UAAU,EAAG5E,KAAKkC,cAAcjD,OAAS,GACjF,MACD,QACCe,KAAKkC,eAAiByC,EAIxB3E,KAAK0E,iBAIN1E,KAAK0E,cAAgB,WACNrC,SAASC,cAAc,WAC7BuC,UAAY7E,KAAKkC,gBAhL3B,IAAAqC,EAAA9F,EAAA","file":"calc.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import {UI} from './lib/ui.js';\r\n\r\nwindow.addEventListener(\"load\", function init(event) {\r\n\t// Only run the initialization once\r\n\twindow.removeEventListener(event.type, init, false);\r\n\r\n\t// Initialize the UI\r\n\tvar Interface = new UI();\r\n\tInterface.initListeners();\r\n}, false);","/**\r\n * Checks is a string represents a numeric value.\r\n */\r\nString.prototype.isNumeric = function() {\r\n\treturn !isNaN(parseFloat(this)) && isFinite(this);\r\n}\r\n\r\n/**\r\n * Cleans empty items from an array.\r\n */\r\nArray.prototype.clean = function() {\r\n\tfor (var i=0; i < this.length; i++) {\r\n\t\tif (this[i] === \"\") {\r\n\t\t\tthis.splice(i, 1);\r\n\t\t}\r\n\t}\r\n\r\n\treturn this;\r\n}\r\n\r\nexport function Calculator() {\r\n\r\n\t// Converts an infix expression to postfix\r\n\t// This is using the Shunting Yard Algorithm\r\n\tthis.toPostfix = function(expression) {\r\n\t\tvar out = \"\"; // The output queue\r\n\t\tvar stack = []; // The operators stack\r\n\r\n\t\t// Opeartor definitions\r\n\t\tvar operators = {\r\n\t\t\t\"^\": {\r\n\t\t\t\tprecedence: 4,\r\n\t\t\t\tassociativity: \"right\"\r\n\t\t\t},\r\n\r\n\t\t\t\"!\": {\r\n\t\t\t\tprecedence: 4,\r\n\t\t\t\tassociativity: \"right\"\r\n\t\t\t},\r\n\r\n\t\t\t\"/\": {\r\n\t\t\t\tprecedence: 3,\r\n\t\t\t\tassociativity: \"left\"\r\n\t\t\t}, \r\n\r\n\t\t\t\"*\": {\r\n\t\t\t\tprecedence: 3,\r\n\t\t\t\tassociativity: \"left\"\r\n\t\t\t},\r\n\r\n\t\t\t\"+\": {\r\n\t\t\t\tprecedence: 2,\r\n\t\t\t\tassociativity: \"left\"\r\n\t\t\t},\r\n\r\n\t\t\t\"-\": {\r\n\t\t\t\tprecedence: 2,\r\n\t\t\t\tassociativity: \"left\"\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Removes one or more occurences of whitespace globally\r\n\t\texpression = expression.replace(/\\s+/g, \"\");\r\n\t\t// Searches for operators and splits the expression on them\r\n\t\texpression = expression.split(/([\\+\\-\\*\\/\\^\\(\\)\\!])/).clean();\r\n\r\n\t\t// Parse the expression\r\n\t\tfor (var i=0; i < expression.length; i++) {\r\n\t\t\tvar token = expression[i];\r\n\r\n\t\t\tif (token.isNumeric()) {\r\n\t\t\t\tout += token + \" \";\r\n\t\t\t} else if (\"^*/+-!\".indexOf(token) !== -1) {\r\n\t\t\t\t// This is an operator token\r\n\t\t\t\tvar a = token;\r\n\t\t\t\tvar b = stack[stack.length - 1];\r\n\r\n\t\t\t\twhile (\"^*/+-!\".indexOf(b) !== -1 && ((operators[a].associativity == \"left\" && operators[a].precedence <= operators[b].precedence) || \r\n\t\t\t\t\toperators[a].associativity == \"right\" && operators[b].precedence < operators[b].precedence)) {\r\n\t\t\t\t\tout += stack.pop() + \" \";\r\n\t\t\t\t\tb = stack[stack.length - 1];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstack.push(a);\r\n\t\t\t} else if (token == \"(\") {\r\n\t\t\t\tstack.push(token);\r\n\t\t\t} else if (token == \")\") {\r\n\t\t\t\twhile (stack[stack.length - 1] !== \"(\") {\r\n\t\t\t\t\tout += stack.pop() + \" \";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstack.pop();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twhile (stack.length > 0) {\r\n\t\t\tout += stack.pop() + \" \";\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t}\r\n\r\n\tfunction factorialize(num) {\r\n\t\tif (num < 0)\r\n\t\t\treturn -1;\r\n\t\telse if (num == 0)\r\n\t\t\treturn 1;\r\n\t\telse \r\n\t\t\treturn (num * factorialize(num - 1));\r\n\t}\r\n\r\n\t// Given an expression in postifx, solve it\r\n\tthis.calc = function(postfix) {\r\n\t\tvar stack = []; // The result stack\r\n\r\n\t\t// Split the postfix on spaces\r\n\t\tpostfix = postfix.split(\" \").clean();\r\n\r\n\t\t// Solve it!\r\n\t\tfor (var i=0; i < postfix.length; i++) {\r\n\t\t\tif (postfix[i].isNumeric()) {\r\n\t\t\t\tstack.push(postfix[i]);\r\n\t\t\t} else { // Operator\r\n\t\t\t\tvar a = stack.pop();\r\n\t\t\t\tvar b = stack.pop();\r\n\r\n\t\t\t\tif (postfix[i] === \"+\") {\r\n\t\t\t\t\tstack.push(parseFloat(a) + parseFloat(b));\r\n\t\t\t\t} else if (postfix[i] === \"-\") {\r\n\t\t\t\t\tstack.push(parseFloat(b) - parseFloat(a));\r\n\t\t\t\t} else if (postfix[i] === \"*\") {\r\n\t\t\t\t\tstack.push(parseFloat(a) * parseFloat(b));\r\n\t\t\t\t} else if (postfix[i] === \"/\") {\r\n\t\t\t\t\tstack.push(parseFloat(b) / parseFloat(a));\r\n\t\t\t\t} else if (postfix[i] === \"^\") {\r\n\t\t\t\t\tstack.push(Math.pow(parseFloat(b), parseFloat(a)));\r\n\t\t\t\t} else if (postfix[i] == \"!\") {\r\n\t\t\t\t\tstack.push(factorialize(a));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn \"Syntax Error\";\r\n\t\t} else {\r\n\t\t\treturn stack.pop();\r\n\t\t}\r\n\t}\r\n\r\n}","import {Calculator} from './engine.js';\r\n\r\nexport function UI() {\r\n\t// The current expression string\r\n\tthis.expressionStr = \"\";\r\n\r\n\t// Initializes the UI event listeners\r\n\tthis.initListeners = function() {\r\n\t\t// Load the buttons\r\n\t\tvar btn_ac = document.querySelector(\"#btn_ac\");\r\n\t\tvar btn_del = document.querySelector(\"#btn_del\");\r\n\t\tvar btn_div = document.querySelector(\"#btn_div\");\r\n\t\tvar btn_one = document.querySelector(\"#btn_one\");\r\n\t\tvar btn_two = document.querySelector(\"#btn_two\");\r\n\t\tvar btn_three = document.querySelector(\"#btn_three\");\r\n\t\tvar btn_mul = document.querySelector(\"#btn_mul\");\r\n\t\tvar btn_four = document.querySelector(\"#btn_four\");\r\n\t\tvar btn_five = document.querySelector(\"#btn_five\");\r\n\t\tvar btn_six = document.querySelector(\"#btn_six\");\r\n\t\tvar btn_plus = document.querySelector(\"#btn_plus\");\r\n\t\tvar btn_seven = document.querySelector(\"#btn_seven\");\r\n\t\tvar btn_eight = document.querySelector(\"#btn_eight\");\r\n\t\tvar btn_nine = document.querySelector(\"#btn_nine\");\r\n\t\tvar btn_min = document.querySelector(\"#btn_min\");\r\n\t\tvar btn_dec = document.querySelector(\"#btn_dec\");\r\n\t\tvar btn_zero = document.querySelector(\"#btn_zero\");\r\n\t\tvar btn_eq = document.querySelector(\"#btn_equ\");\r\n\t\tvar btn_sin = document.querySelector(\"#btn_sin\");\r\n        var btn_cos = document.querySelector(\"#btn_cos\");\r\n        var btn_tan = document.querySelector(\"#btn_tan\");\r\n        var btn_log = document.querySelector(\"#btn_log\");\r\n        var btn_pi = document.querySelector(\"#btn_pi\");\r\n        var btn_sqrt = document.querySelector(\"#btn_sqrt\");\r\n        var btn_factorial = document.querySelector(\"#btn_factorial\");\r\n        var btn_lparen = document.querySelector(\"#btn_lparen\");\r\n        var btn_rparen = document.querySelector(\"#btn_rparen\");\r\n        var btn_neg = document.querySelector(\"#btn_neg\");\r\n        var btn_squared = document.querySelector(\"#btn_squared\");\r\n        var btn_power = document.querySelector(\"#btn_power\");\r\n\r\n\t\t// Add the listeners\r\n\t\tbtn_ac.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"AC\");\r\n\t\t});\r\n\t\tbtn_del.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"DEL\");\r\n\t\t});\r\n\t\tbtn_div.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"/\");\r\n\t\t});\r\n\t\tbtn_one.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"1\");\r\n\t\t});\r\n\t\tbtn_two.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"2\");\r\n\t\t});\r\n\t\tbtn_three.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"3\");\r\n\t\t});\r\n\t\tbtn_mul.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"*\");\r\n\t\t});\r\n\t\tbtn_four.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"4\");\r\n\t\t});\r\n\t\tbtn_five.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"5\");\r\n\t\t});\r\n\t\tbtn_six.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"6\");\r\n\t\t});\r\n\t\tbtn_plus.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"+\");\r\n\t\t});\r\n\t\tbtn_seven.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"7\");\r\n\t\t});\r\n\t\tbtn_eight.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"8\");\r\n\t\t});\r\n\t\tbtn_nine.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"9\");\r\n\t\t});\r\n\t\tbtn_dec.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\".\");\r\n\t\t});\r\n\t\tbtn_min.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"-\");\r\n\t\t});\r\n\t\tbtn_zero.addEventListener(\"click\", () => {\r\n\t\t\tthis.updateExpression(\"0\");\r\n\t\t});\r\n\r\n\t\t// Click handlers for mathematical functions\r\n\t\tbtn_eq.addEventListener(\"click\", () => {\r\n\t\t\tthis.solve();\r\n\t\t});\r\n\t\tbtn_sin.addEventListener(\"click\", () => {\r\n            this.updateExpression(\"sin(\");\r\n        });\r\n        btn_cos.addEventListener(\"click\", () => {\r\n            this.updateExpression(\"cos(\");\r\n        });\r\n        btn_tan.addEventListener(\"click\", () => {\r\n            this.updateExpression(\"tan(\");\r\n        });\r\n        btn_pi.addEventListener(\"click\", () => {\r\n            this.updateExpression(\"pi\");\r\n        });\r\n        btn_sqrt.addEventListener(\"click\", () => {\r\n            this.updateExpression(\"sqrt(\");\r\n        });\r\n        btn_log.addEventListener(\"click\", () => {\r\n            this.updateExpression(\"log(\");\r\n        });\r\n        btn_factorial.addEventListener(\"click\", () => {\r\n        \tthis.updateExpression(\"!\");\r\n        });\r\n        btn_lparen.addEventListener(\"click\", () => {\r\n        \tthis.updateExpression(\"(\");\r\n        });\r\n        btn_rparen.addEventListener(\"click\", () => {\r\n        \tthis.updateExpression(\")\");\r\n        });\r\n        btn_neg.addEventListener(\"click\", () => {\r\n        \tthis.updateSign();\r\n        });\r\n        btn_squared.addEventListener(\"click\", () => {\r\n        \tthis.updateExpression(\"^2\");\r\n        });\r\n        btn_power.addEventListener(\"click\", () => {\r\n        \tthis.updateExpression(\"^\");\r\n        });\r\n\t}\r\n\r\n\t// Uses the calculator engine to solve an expression\r\n\tthis.solve = function() {\r\n\t\tvar calc = new Calculator();\r\n\t\tvar expr = calc.toPostfix(this.expressionStr);\r\n\t\tvar res = calc.calc(expr);\r\n\t\tthis.expressionStr = res;\r\n\t\tthis.updateDisplay();\r\n\t}\r\n\r\n\tthis.updateSign = function() {\r\n\t\tif (this.expressionStr.length <= 0)\r\n\t\t\tthis.expressionStr = '';\r\n\r\n\t\tif (this.expressionStr[this.expressionStr.length] == '-')\r\n\t\t\tthis.expressionStr[this.expressionStr.length] = '';\r\n\t\telse \r\n\t\t\tthis.expressionStr += '-';\r\n\r\n\t\tthis.updateDisplay();\r\n\t}\r\n\r\n\t// Updates the expression\r\n\tthis.updateExpression = function(op) {\r\n\t\tswitch (op) {\r\n\t\t\tcase \"AC\":\r\n\t\t\t\tthis.expressionStr = \"\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"DEL\": \r\n\t\t\t\tthis.expressionStr = this.expressionStr.substring(0, this.expressionStr.length - 1);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.expressionStr += op;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.updateDisplay();\r\n\t}\r\n\r\n\t// Updates the display\r\n\tthis.updateDisplay = function() {\r\n\t\tvar display = document.querySelector(\"#output\");\r\n\t\tdisplay.innerHTML = this.expressionStr;\r\n\t}\r\n\r\n}"]}