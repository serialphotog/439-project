!function r(o,c,u){function a(t,e){if(!c[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(p)return p(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var s=c[t]={exports:{}};o[t][0].call(s.exports,function(e){return a(o[t][1][e]||e)},s,s.exports,r,o,c,u)}return c[t].exports}for(var p="function"==typeof require&&require,e=0;e<u.length;e++)a(u[e]);return a}({1:[function(e,t,n){"use strict";var i=e("./lib/ui.js");window.addEventListener("load",function e(t){window.removeEventListener(t.type,e,!1),(new i.UI).initListeners()},!1)},{"./lib/ui.js":3}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Calculator=function(){function u(e){return e<0?-1:0==e?1:e*u(e-1)}this.toPostfix=function(e){var t="",n=[],i={"^":{precedence:4,associativity:"right"},"!":{precedence:4,associativity:"right"},"/":{precedence:3,associativity:"left"},"*":{precedence:3,associativity:"left"},"+":{precedence:2,associativity:"left"},"-":{precedence:2,associativity:"left"}};e=(e=(e=e.replace(/&pi;/,Math.PI)).replace(/\s+/g,"")).split(/([\+\-\*\/\^\(\)\!])/).clean();for(var s=0;s<e.length;s++){var r=e[s];if("sqrt"==r?n.push("sqrt("):"sin"==r?n.push("sin("):"cos"==r?n.push("cos("):"tan"==r?n.push("tan("):"log"==r&&n.push("log("),r.isNumeric())t+=r+" ";else if(-1!=="^*/+-!".indexOf(r)){for(var o=r,c=n[n.length-1];-1!=="^*/+-!".indexOf(c)&&("left"==i[o].associativity&&i[o].precedence<=i[c].precedence||"right"==i[o].associativity&&i[c].precedence<i[c].precedence);)t+=n.pop()+" ",c=n[n.length-1];n.push(o)}else if("("==r)n.push(r);else if(")"==r){for(;"("!==n[n.length-1];)t+=n.pop()+" ";n.pop()}}for(;0<n.length;)t+=n.pop()+" ";return t},this.calc=function(e){var t,n,i=[];e=e.split(" ").clean();for(var s=0;s<e.length;s++)if(e[s].isNumeric())i.push(e[s]);else{var r=i.pop(),o=i.pop();console.log(e),console.log(e[s]),console.log("A: "+r+", B: "+o),"+"===e[s]?i.push(parseFloat(r)+parseFloat(o)):"-"===e[s]?i.push(parseFloat(o)-parseFloat(r)):"*"===e[s]?i.push(parseFloat(r)*parseFloat(o)):"/"===e[s]?i.push(parseFloat(o)/parseFloat(r)):"^"===e[s]?i.push(Math.pow(parseFloat(o),parseFloat(r))):"!"==e[s]?i.push(u(r)):"sqrt("==e[s]?i.push(Math.sqrt(r)):"sin("==e[s]?i.push(Math.sin(r*Math.PI/180)):"cos("==e[s]?i.push(Math.cos(r*Math.PI/180)):"tan("==e[s]?i.push(Math.tan(r*Math.PI/180)):"log("==e[s]&&i.push((t=r,n=10,Math.log(t)/Math.log(n)))}if(1<i.length)return"Syntax Error";var c=i.pop();return"NaN"!=c&&!isNaN(c)||(c="Syntax Error!"),c}},String.prototype.isNumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)},Array.prototype.clean=function(){for(var e=0;e<this.length;e++)""===this[e]&&this.splice(e,1);return this}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UI=function(){this.expressionStr="",this.displayingResult=!1,this.initListeners=function(){var e=this,t=document.querySelector("#btn_ac"),n=document.querySelector("#btn_del"),i=document.querySelector("#btn_div"),s=document.querySelector("#btn_one"),r=document.querySelector("#btn_two"),o=document.querySelector("#btn_three"),c=document.querySelector("#btn_mul"),u=document.querySelector("#btn_four"),a=document.querySelector("#btn_five"),p=document.querySelector("#btn_six"),d=document.querySelector("#btn_plus"),l=document.querySelector("#btn_seven"),h=document.querySelector("#btn_eight"),f=document.querySelector("#btn_nine"),E=document.querySelector("#btn_min"),v=document.querySelector("#btn_dec"),x=document.querySelector("#btn_zero"),y=document.querySelector("#btn_equ"),S=document.querySelector("#btn_sin"),q=document.querySelector("#btn_cos"),g=document.querySelector("#btn_tan"),b=document.querySelector("#btn_log"),m=document.querySelector("#btn_pi"),L=document.querySelector("#btn_sqrt"),_=document.querySelector("#btn_factorial"),k=document.querySelector("#btn_lparen"),M=document.querySelector("#btn_rparen"),F=document.querySelector("#btn_neg"),w=document.querySelector("#btn_squared"),N=document.querySelector("#btn_power");t.addEventListener("click",function(){e.updateExpression("AC")}),n.addEventListener("click",function(){e.updateExpression("DEL")}),i.addEventListener("click",function(){e.updateExpression("/")}),s.addEventListener("click",function(){e.updateExpression("1")}),r.addEventListener("click",function(){e.updateExpression("2")}),o.addEventListener("click",function(){e.updateExpression("3")}),c.addEventListener("click",function(){e.updateExpression("*")}),u.addEventListener("click",function(){e.updateExpression("4")}),a.addEventListener("click",function(){e.updateExpression("5")}),p.addEventListener("click",function(){e.updateExpression("6")}),d.addEventListener("click",function(){e.updateExpression("+")}),l.addEventListener("click",function(){e.updateExpression("7")}),h.addEventListener("click",function(){e.updateExpression("8")}),f.addEventListener("click",function(){e.updateExpression("9")}),v.addEventListener("click",function(){e.updateExpression(".")}),E.addEventListener("click",function(){e.updateExpression("-")}),x.addEventListener("click",function(){e.updateExpression("0")}),y.addEventListener("click",function(){e.solve()}),S.addEventListener("click",function(){e.updateExpression("sin(")}),q.addEventListener("click",function(){e.updateExpression("cos(")}),g.addEventListener("click",function(){e.updateExpression("tan(")}),m.addEventListener("click",function(){e.updateExpression("&pi;")}),L.addEventListener("click",function(){e.updateExpression("sqrt(")}),b.addEventListener("click",function(){e.updateExpression("log(")}),_.addEventListener("click",function(){e.updateExpression("!")}),k.addEventListener("click",function(){e.updateExpression("(")}),M.addEventListener("click",function(){e.updateExpression(")")}),F.addEventListener("click",function(){e.updateSign()}),w.addEventListener("click",function(){e.updateExpression("^2")}),N.addEventListener("click",function(){e.updateExpression("^")})},this.solve=function(){var e=new i.Calculator,t=e.toPostfix(this.expressionStr),n=e.calc(t);this.expressionStr=n,this.displayingResult=!0,this.updateDisplay()},this.updateSign=function(){this.expressionStr.length<=0&&(this.expressionStr=""),"-"==this.expressionStr[this.expressionStr.length]?this.expressionStr[this.expressionStr.length]="":this.expressionStr+="-",this.updateDisplay()},this.updateExpression=function(e){switch(e){case"AC":this.expressionStr="";break;case"DEL":null!=this.expressionStr&&(this.expressionStr=this.expressionStr.substring(0,this.expressionStr.length-1));break;case"+":case"*":case"/":case"-":this.expressionStr+=e;break;default:this.displayingResult&&(this.expressionStr=""),this.expressionStr+=e}this.displayingResult=!1,this.updateDisplay()},this.updateDisplay=function(){document.querySelector("#output").innerHTML=this.expressionStr}};var i=e("./engine.js")},{"./engine.js":2}]},{},[1]);
//# sourceMappingURL=calc.js.map
